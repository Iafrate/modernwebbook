<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Files API [2] - Chapter 06</title>
	<link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
	<link rel="stylesheet" href="../assets/style.css">
</head>
<body>
	<div id="files-target" class="target-region"></div>
<script>
document.addEventListener('DOMContentLoaded', function () {
	var target = document.getElementById('files-target');
	target.addEventListener('dragover', function (e) {
		e.preventDefault();
	}, false);
	target.addEventListener('drop', function (e) {
		e.preventDefault();
		var files = e.dataTransfer.files[0],
				reader = new FileReader();
		reader.addEventListener('load', function (evt) {
			console.log(evt.target.result);
			var img = document.createElement('img');
			img.src = evt.target.result;
			target.appendChild(img);
		}, false);
		reader.addEventListener('error', function (evt) {
			console.log(evt.target.error.code);
		}, false);
		reader.readAsDataURL(files);
	}, false);
}, false);
</script>
</body>
</html>
